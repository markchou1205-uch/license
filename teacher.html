<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>教師名冊 | 名冊+證照</title>
  <style>
    body{margin:0;background:#0b1020;color:#e5e7eb;font-family:system-ui, -apple-system, "Segoe UI", Roboto}
    .wrap{max-width:1100px;margin:40px auto;padding:20px}
    .card{background:#111827;border:1px solid #1f2937;border-radius:18px;padding:22px}
    h1{margin:0 0 6px}
    .sub{color:#94a3b8;margin:0 0 16px}
    table{width:100%;border-collapse:collapse}
    th,td{border-bottom:1px solid #1f2937;padding:10px 8px;text-align:left;font-size:14px}
    th{color:#a5b4fc}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;border:1px solid #334155;background:#1f2937;color:white;text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>教師名冊</h1>
      <p class="sub" id="meta"></p>
      <div style="overflow:auto">
        <table id="tbl">
          <thead>
            <tr>
              <th>#</th>
              <th>科別名稱</th>
              <th>班級名稱</th>
              <th>學號</th>
              <th>姓名</th>
              <th>座號</th>
              <th>身分證號</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div style="margin-top:16px">
        <a class="btn" href="index.html">返回登入</a>
      </div>
    </div>
  </div>
  <script>
    const payload = JSON.parse(sessionStorage.getItem('teacherList')||'null');
    const meta = document.getElementById('meta');
    const tbody = document.querySelector('#tbl tbody');

    if(!payload){
      meta.textContent = '無資料，請由登入頁進入。';
    }else{
      meta.textContent = `群科：${payload.dept}　班級：${payload.clazz}　筆數：${(payload.rows||[]).length}`;
      (payload.rows||[]).forEach((row, i)=>{
        // 欄位順序：1科別 2班級 3學號 4姓名 5座號 6身分證
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${i+1}</td>
          <td>${row[0]||''}</td>
          <td>${row[1]||''}</td>
          <td>${row[2]||''}</td>
          <td>${row[3]||''}</td>
          <td>${row[4]||''}</td>
          <td>${row[5]||''}</td>
        `;
        tbody.appendChild(tr);
      });
    }
  </script>
</body>
</html>
